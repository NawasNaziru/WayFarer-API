'use strict';var cov_lxhqzo367=function(){var path="C:\\Users\\owner\\Banka\\app_api\\config\\passport.js";var hash="1eabe256776839025d96919cba23c17c823c048f";var Function=function(){}.constructor;var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\owner\\Banka\\app_api\\config\\passport.js",statementMap:{"0":{start:{line:3,column:17},end:{line:3,column:36}},"1":{start:{line:4,column:22},end:{line:4,column:56}},"2":{start:{line:5,column:15},end:{line:5,column:32}},"3":{start:{line:8,column:24},end:{line:10,column:1}},"4":{start:{line:9,column:2},end:{line:9,column:60}},"5":{start:{line:12,column:0},end:{line:28,column:4}},"6":{start:{line:16,column:15},end:{line:16,column:30}},"7":{start:{line:17,column:2},end:{line:21,column:3}},"8":{start:{line:18,column:4},end:{line:20,column:7}},"9":{start:{line:22,column:2},end:{line:26,column:3}},"10":{start:{line:23,column:4},end:{line:25,column:7}},"11":{start:{line:27,column:2},end:{line:27,column:26}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:8,column:24},end:{line:8,column:25}},loc:{start:{line:8,column:66},end:{line:10,column:1}},line:8},"1":{name:"(anonymous_1)",decl:{start:{line:14,column:3},end:{line:14,column:4}},loc:{start:{line:14,column:33},end:{line:28,column:1}},line:14}},branchMap:{"0":{loc:{start:{line:17,column:2},end:{line:21,column:3}},type:"if",locations:[{start:{line:17,column:2},end:{line:21,column:3}},{start:{line:17,column:2},end:{line:21,column:3}}],line:17},"1":{loc:{start:{line:22,column:2},end:{line:26,column:3}},type:"if",locations:[{start:{line:22,column:2},end:{line:26,column:3}},{start:{line:22,column:2},end:{line:26,column:3}}],line:22}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},f:{"0":0,"1":0},b:{"0":[0,0],"1":[0,0]},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184"};var coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();const passport=(cov_lxhqzo367.s[0]++,require('passport'));const LocalStrategy=(cov_lxhqzo367.s[1]++,require('passport-local').Strategy);const bcrypt=(cov_lxhqzo367.s[2]++,require('bcrypt'));// eslint-disable-next-line func-names
cov_lxhqzo367.s[3]++;const isValidPassword=function(reqbodypassword,userSavedHash){cov_lxhqzo367.f[0]++;cov_lxhqzo367.s[4]++;return bcrypt.compareSync(reqbodypassword,userSavedHash);};cov_lxhqzo367.s[5]++;passport.use(new LocalStrategy({usernameField:'email'},(username,password,done)=>{cov_lxhqzo367.f[1]++;// eslint-disable-next-line no-undef
const user=(cov_lxhqzo367.s[6]++,Users[username]);cov_lxhqzo367.s[7]++;if(!user){cov_lxhqzo367.b[0][0]++;cov_lxhqzo367.s[8]++;return done(null,false,{message:'Incorrect username.'});}else{cov_lxhqzo367.b[0][1]++;}cov_lxhqzo367.s[9]++;if(!isValidPassword(password,user.hash)){cov_lxhqzo367.b[1][0]++;cov_lxhqzo367.s[10]++;return done(null,false,{message:'Incorrect password.'});}else{cov_lxhqzo367.b[1][1]++;}cov_lxhqzo367.s[11]++;return done(null,user);}));//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBhc3Nwb3J0LmpzIl0sIm5hbWVzIjpbInBhc3Nwb3J0IiwicmVxdWlyZSIsIkxvY2FsU3RyYXRlZ3kiLCJTdHJhdGVneSIsImJjcnlwdCIsImlzVmFsaWRQYXNzd29yZCIsInJlcWJvZHlwYXNzd29yZCIsInVzZXJTYXZlZEhhc2giLCJjb21wYXJlU3luYyIsInVzZSIsInVzZXJuYW1lRmllbGQiLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwiZG9uZSIsInVzZXIiLCJVc2VycyIsIm1lc3NhZ2UiLCJoYXNoIl0sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU1BLFdBQVdDLFFBQVEsVUFBUixDQUFqQjtBQUNBLE1BQU1DLGdCQUFnQkQsUUFBUSxnQkFBUixFQUEwQkUsUUFBaEQ7QUFDQSxNQUFNQyxTQUFTSCxRQUFRLFFBQVIsQ0FBZjs7QUFHQTtBQUNBLE1BQU1JLGtCQUFrQixVQUFVQyxlQUFWLEVBQTJCQyxhQUEzQixFQUEwQztBQUNoRSxTQUFPSCxPQUFPSSxXQUFQLENBQW1CRixlQUFuQixFQUFvQ0MsYUFBcEMsQ0FBUDtBQUNELENBRkQ7O0FBS0FQLFNBQVNTLEdBQVQsQ0FBYSxJQUFJUCxhQUFKLENBQWtCO0FBQzdCUSxpQkFBZTtBQURjLENBQWxCLEVBR1osQ0FBQ0MsUUFBRCxFQUFXQyxRQUFYLEVBQXFCQyxJQUFyQixLQUE4QjtBQUM3QjtBQUNBLFFBQU1DLE9BQU9DLE1BQU1KLFFBQU4sQ0FBYjtBQUNBLE1BQUksQ0FBQ0csSUFBTCxFQUFXO0FBQ1QsV0FBT0QsS0FBSyxJQUFMLEVBQVcsS0FBWCxFQUFrQjtBQUN2QkcsZUFBUztBQURjLEtBQWxCLENBQVA7QUFHRDtBQUNELE1BQUksQ0FBQ1gsZ0JBQWdCTyxRQUFoQixFQUEwQkUsS0FBS0csSUFBL0IsQ0FBTCxFQUEyQztBQUN6QyxXQUFPSixLQUFLLElBQUwsRUFBVyxLQUFYLEVBQWtCO0FBQ3ZCRyxlQUFTO0FBRGMsS0FBbEIsQ0FBUDtBQUdEO0FBQ0QsU0FBT0gsS0FBSyxJQUFMLEVBQVdDLElBQVgsQ0FBUDtBQUNELENBakJZLENBQWIiLCJmaWxlIjoicGFzc3BvcnQuanMiLCJzb3VyY2VSb290IjoiQzovVXNlcnMvb3duZXIvQmFua2EvYXBwX2FwaS9jb25maWciLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBwYXNzcG9ydCA9IHJlcXVpcmUoJ3Bhc3Nwb3J0Jyk7XG5jb25zdCBMb2NhbFN0cmF0ZWd5ID0gcmVxdWlyZSgncGFzc3BvcnQtbG9jYWwnKS5TdHJhdGVneTtcbmNvbnN0IGJjcnlwdCA9IHJlcXVpcmUoJ2JjcnlwdCcpO1xuXG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG5jb25zdCBpc1ZhbGlkUGFzc3dvcmQgPSBmdW5jdGlvbiAocmVxYm9keXBhc3N3b3JkLCB1c2VyU2F2ZWRIYXNoKSB7XG4gIHJldHVybiBiY3J5cHQuY29tcGFyZVN5bmMocmVxYm9keXBhc3N3b3JkLCB1c2VyU2F2ZWRIYXNoKTtcbn07XG5cblxucGFzc3BvcnQudXNlKG5ldyBMb2NhbFN0cmF0ZWd5KHtcbiAgdXNlcm5hbWVGaWVsZDogJ2VtYWlsJyxcbn0sXG4oKHVzZXJuYW1lLCBwYXNzd29yZCwgZG9uZSkgPT4ge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgY29uc3QgdXNlciA9IFVzZXJzW3VzZXJuYW1lXTtcbiAgaWYgKCF1c2VyKSB7XG4gICAgcmV0dXJuIGRvbmUobnVsbCwgZmFsc2UsIHtcbiAgICAgIG1lc3NhZ2U6ICdJbmNvcnJlY3QgdXNlcm5hbWUuJyxcbiAgICB9KTtcbiAgfVxuICBpZiAoIWlzVmFsaWRQYXNzd29yZChwYXNzd29yZCwgdXNlci5oYXNoKSkge1xuICAgIHJldHVybiBkb25lKG51bGwsIGZhbHNlLCB7XG4gICAgICBtZXNzYWdlOiAnSW5jb3JyZWN0IHBhc3N3b3JkLicsXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIGRvbmUobnVsbCwgdXNlcik7XG59KSkpO1xuIl19