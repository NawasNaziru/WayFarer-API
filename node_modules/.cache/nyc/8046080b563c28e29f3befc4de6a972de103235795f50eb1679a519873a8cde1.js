var cov_lxhqzo367=function(){var path="C:\\Users\\owner\\Banka\\app_api\\config\\passport.js";var hash="6794f47731cf7b23055dc128a923fc12b9176a02";var Function=function(){}.constructor;var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\owner\\Banka\\app_api\\config\\passport.js",statementMap:{"0":{start:{line:1,column:17},end:{line:1,column:36}},"1":{start:{line:2,column:22},end:{line:2,column:56}},"2":{start:{line:3,column:15},end:{line:3,column:32}},"3":{start:{line:6,column:24},end:{line:8,column:1}},"4":{start:{line:7,column:2},end:{line:7,column:60}},"5":{start:{line:10,column:0},end:{line:26,column:4}},"6":{start:{line:14,column:15},end:{line:14,column:30}},"7":{start:{line:15,column:2},end:{line:19,column:3}},"8":{start:{line:16,column:4},end:{line:18,column:7}},"9":{start:{line:20,column:2},end:{line:24,column:3}},"10":{start:{line:21,column:4},end:{line:23,column:7}},"11":{start:{line:25,column:2},end:{line:25,column:26}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:6,column:24},end:{line:6,column:25}},loc:{start:{line:6,column:66},end:{line:8,column:1}},line:6},"1":{name:"(anonymous_1)",decl:{start:{line:12,column:3},end:{line:12,column:4}},loc:{start:{line:12,column:33},end:{line:26,column:1}},line:12}},branchMap:{"0":{loc:{start:{line:15,column:2},end:{line:19,column:3}},type:"if",locations:[{start:{line:15,column:2},end:{line:19,column:3}},{start:{line:15,column:2},end:{line:19,column:3}}],line:15},"1":{loc:{start:{line:20,column:2},end:{line:24,column:3}},type:"if",locations:[{start:{line:20,column:2},end:{line:24,column:3}},{start:{line:20,column:2},end:{line:24,column:3}}],line:20}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},f:{"0":0,"1":0},b:{"0":[0,0],"1":[0,0]},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184"};var coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();const passport=(cov_lxhqzo367.s[0]++,require('passport'));const LocalStrategy=(cov_lxhqzo367.s[1]++,require('passport-local').Strategy);const bcrypt=(cov_lxhqzo367.s[2]++,require('bcrypt'));// eslint-disable-next-line func-names
cov_lxhqzo367.s[3]++;const isValidPassword=function(reqbodypassword,userSavedHash){cov_lxhqzo367.f[0]++;cov_lxhqzo367.s[4]++;return bcrypt.compareSync(reqbodypassword,userSavedHash);};cov_lxhqzo367.s[5]++;passport.use(new LocalStrategy({usernameField:'email'},(username,password,done)=>{cov_lxhqzo367.f[1]++;// eslint-disable-next-line no-undef
const user=(cov_lxhqzo367.s[6]++,Users[username]);cov_lxhqzo367.s[7]++;if(!user){cov_lxhqzo367.b[0][0]++;cov_lxhqzo367.s[8]++;return done(null,false,{message:'Incorrect username.'});}else{cov_lxhqzo367.b[0][1]++;}cov_lxhqzo367.s[9]++;if(!isValidPassword(password,user.hash)){cov_lxhqzo367.b[1][0]++;cov_lxhqzo367.s[10]++;return done(null,false,{message:'Incorrect password.'});}else{cov_lxhqzo367.b[1][1]++;}cov_lxhqzo367.s[11]++;return done(null,user);}));//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBhc3Nwb3J0LmpzIl0sIm5hbWVzIjpbInBhc3Nwb3J0IiwicmVxdWlyZSIsIkxvY2FsU3RyYXRlZ3kiLCJTdHJhdGVneSIsImJjcnlwdCIsImlzVmFsaWRQYXNzd29yZCIsInJlcWJvZHlwYXNzd29yZCIsInVzZXJTYXZlZEhhc2giLCJjb21wYXJlU3luYyIsInVzZSIsInVzZXJuYW1lRmllbGQiLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwiZG9uZSIsInVzZXIiLCJVc2VycyIsIm1lc3NhZ2UiLCJoYXNoIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxXQUFXQyxRQUFRLFVBQVIsQ0FBakI7QUFDQSxNQUFNQyxnQkFBZ0JELFFBQVEsZ0JBQVIsRUFBMEJFLFFBQWhEO0FBQ0EsTUFBTUMsU0FBU0gsUUFBUSxRQUFSLENBQWY7O0FBR0E7QUFDQSxNQUFNSSxrQkFBa0IsVUFBVUMsZUFBVixFQUEyQkMsYUFBM0IsRUFBMEM7QUFDaEUsU0FBT0gsT0FBT0ksV0FBUCxDQUFtQkYsZUFBbkIsRUFBb0NDLGFBQXBDLENBQVA7QUFDRCxDQUZEOztBQUtBUCxTQUFTUyxHQUFULENBQWEsSUFBSVAsYUFBSixDQUFrQjtBQUM3QlEsaUJBQWU7QUFEYyxDQUFsQixFQUdaLENBQUNDLFFBQUQsRUFBV0MsUUFBWCxFQUFxQkMsSUFBckIsS0FBOEI7QUFDN0I7QUFDQSxRQUFNQyxPQUFPQyxNQUFNSixRQUFOLENBQWI7QUFDQSxNQUFJLENBQUNHLElBQUwsRUFBVztBQUNULFdBQU9ELEtBQUssSUFBTCxFQUFXLEtBQVgsRUFBa0I7QUFDdkJHLGVBQVM7QUFEYyxLQUFsQixDQUFQO0FBR0Q7QUFDRCxNQUFJLENBQUNYLGdCQUFnQk8sUUFBaEIsRUFBMEJFLEtBQUtHLElBQS9CLENBQUwsRUFBMkM7QUFDekMsV0FBT0osS0FBSyxJQUFMLEVBQVcsS0FBWCxFQUFrQjtBQUN2QkcsZUFBUztBQURjLEtBQWxCLENBQVA7QUFHRDtBQUNELFNBQU9ILEtBQUssSUFBTCxFQUFXQyxJQUFYLENBQVA7QUFDRCxDQWpCWSxDQUFiIiwiZmlsZSI6InBhc3Nwb3J0LmpzIiwic291cmNlUm9vdCI6IkM6L1VzZXJzL293bmVyL0JhbmthL2FwcF9hcGkvY29uZmlnIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcGFzc3BvcnQgPSByZXF1aXJlKCdwYXNzcG9ydCcpO1xuY29uc3QgTG9jYWxTdHJhdGVneSA9IHJlcXVpcmUoJ3Bhc3Nwb3J0LWxvY2FsJykuU3RyYXRlZ3k7XG5jb25zdCBiY3J5cHQgPSByZXF1aXJlKCdiY3J5cHQnKTtcblxuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuY29uc3QgaXNWYWxpZFBhc3N3b3JkID0gZnVuY3Rpb24gKHJlcWJvZHlwYXNzd29yZCwgdXNlclNhdmVkSGFzaCkge1xuICByZXR1cm4gYmNyeXB0LmNvbXBhcmVTeW5jKHJlcWJvZHlwYXNzd29yZCwgdXNlclNhdmVkSGFzaCk7XG59O1xuXG5cbnBhc3Nwb3J0LnVzZShuZXcgTG9jYWxTdHJhdGVneSh7XG4gIHVzZXJuYW1lRmllbGQ6ICdlbWFpbCcsXG59LFxuKCh1c2VybmFtZSwgcGFzc3dvcmQsIGRvbmUpID0+IHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gIGNvbnN0IHVzZXIgPSBVc2Vyc1t1c2VybmFtZV07XG4gIGlmICghdXNlcikge1xuICAgIHJldHVybiBkb25lKG51bGwsIGZhbHNlLCB7XG4gICAgICBtZXNzYWdlOiAnSW5jb3JyZWN0IHVzZXJuYW1lLicsXG4gICAgfSk7XG4gIH1cbiAgaWYgKCFpc1ZhbGlkUGFzc3dvcmQocGFzc3dvcmQsIHVzZXIuaGFzaCkpIHtcbiAgICByZXR1cm4gZG9uZShudWxsLCBmYWxzZSwge1xuICAgICAgbWVzc2FnZTogJ0luY29ycmVjdCBwYXNzd29yZC4nLFxuICAgIH0pO1xuICB9XG4gIHJldHVybiBkb25lKG51bGwsIHVzZXIpO1xufSkpKTtcbiJdfQ==